%
% General packages
\usepackage{textpos}
% \usepackage{fontspec}
%
% Location(s) of images
\graphicspath{{images/}}
%
% Fonts
\setsansfont[BoldFont={Fira Sans SemiBold}]{Fira Sans}
\setbeamerfont{title}{size=\huge}
\setbeamerfont{author}{size=\LARGE}
\setbeamerfont{date}{size=\normalsize}
\setbeamerfont{institute}{size=\normalsize}
\setbeamerfont{frametitle}{series=\mdseries}
%
% Margins
% \setbeamersize{text margin left=0.5cm,text margin right=0.5cm}
%
% Frame title logo
\makeatletter
\newlength{\frametitleheight}% <- NEW
\newsavebox{\beamer@titlebox}% <- NEW
\setbeamertemplate{frametitle}{%
  \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
  \@tempdima=\textwidth%
  \advance\@tempdima by\beamer@leftmargin%
  \advance\@tempdima by\beamer@rightmargin%
  \sbox{\beamer@titlebox}{% <- NEW
      \begin{beamercolorbox}[sep=0.3cm,left,wd=\the\@tempdima]{frametitle}
        \usebeamerfont{frametitle}%
        \vbox{}\vskip-1ex%
        \if@tempswa\else\csname beamer@fteleft\endcsname\fi%
        \strut\insertframetitle\strut\par%
        {%
          \ifx\insertframesubtitle\@empty%
          \else%
          {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\strut\par}%
          \fi
        }%
        \vskip-1ex%
        \if@tempswa\else\vskip-.3cm\fi% set inside beamercolorbox... evil here...
      \end{beamercolorbox}%
     }% <- NEW
     \usebox{\beamer@titlebox}% <- NEW
\settoheight{\frametitleheight}{\usebox{\beamer@titlebox}}% <- NEW
\addtolength{\frametitleheight}{\headheight}}
\makeatother
\addtobeamertemplate{frametitle}{}{%
  \begin{tikzpicture}[remember picture,overlay]
    \node[inner sep=0, outer sep=0, anchor= east,xshift=-2mm,yshift=-0.5*\frametitleheight] at (current page.north east) {\includegraphics[height=0.675cm, keepaspectratio]{murraystate-logo-shield.png}};
  \end{tikzpicture}}
%
% Progress bar width
\makeatletter
\setlength{\metropolis@progressinheadfoot@linewidth}{1pt}
\makeatother
%
% Footer
\setbeamertemplate{frame footer}{\vspace*{-5pt}\insertshorttitle\hfill\secname}
\setbeamerfont{page number in head/foot}{size=\tiny}
\setbeamercolor{footline}{fg=gray}
%
%%% Local Variables:
%%% mode: latex
%%% TeX-master: "git-tutorial"
%%% TeX-engine: xetex
%%% End:
